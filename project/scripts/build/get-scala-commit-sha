#!/usr/bin/env bash
#
# Usage: get-scala-commit-sha [dir]
# Figures out current commit sha of a git clone.
# If no dir is given, current working dir is used.
#
# Example build version string:
#   b01f13ec4a3ac15e5e922cc0019169e8563ffc8d
#

# Exit immediately if any command returns a non-zero status.
set -eo pipefail

[[ $# -eq 0 ]] || cd "$1"

hash=$(git log -1 --format="%H" HEAD)
echo "$hash"
